<link rel="import" href="../../bower_components/polymer/polymer.html">
<script src="../../bower_components/mapbox.js/mapbox.js"></script>
<script src="../../bower_components/leaflet.draw/dist/leaflet.draw.js"></script>

<polymer-element name="map-view" attributes="latitude longitude zoom">
  <template>
    <link rel="stylesheet" href="../../bower_components/mapbox.js/mapbox.css">
    <link rel="stylesheet" href="../../bower_components/leaflet.draw/dist/leaflet.draw.css">

    <style>
      #map {
        width: 100%;
        height: 100%;

        position: absolute;
      }
    </style>

    <div id="map"></div>
  </template>

  <script>
    Polymer("map-view", {
      // Center map on Linz
      latitude: 48.303056,
      longitude: 14.290556,
      zoom: 13,

      map: null,
      token: "pk.eyJ1IjoicmVhbTg4IiwiYSI6Im9XN3Q5NzgifQ.d4sG9L2iedF21qBuhBCwKw",

      created: function() {
        L.mapbox.accessToken = this.token;
      },

      ready: function() {
        this.map = L.mapbox.map(this.$.map, "examples.map-i86nkdio", { drawControl: true })
          .setView([this.latitude, this.longitude], this.zoom);
      }
    });
  </script>
</polymer>
